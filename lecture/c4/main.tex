\newlecture{4}{Graphs, Tables and Code}

\section{Graphs}

\subsection{Include Graphs}

\begin{frame}[fragile]{Include Graphs}
Before all, you need the \packagename{graphics} or \packagename{graphicx} package, where \packagename{graphicx} is an extended and enhanced one. So you are recommended to insert the command in the preamble of your document.

\begin{command}
\LC|\usepackage{graphicx}|
\end{command}

Then you can use the command \LC|\includegraphics| to insert images of many formats, including \packagename{jpg}, \packagename{png} images and even other \packagename{pdf} files. \packagename{eps} images should be supported by most modern \LaTeX\ distributions as well.

\begin{command}
\LC|\includegraphics[options]{filename}|
\end{command}

\end{frame}

\begin{frame}[fragile]
There are some example images defined, you can insert them if the figure is not yet ready when writing \LaTeX\ code. They are \packagename{example-image}, \packagename{example-image-golden}, \packagename{example-image-a}, \packagename{example-image-b} and etc.

\begin{latexexample}
\includegraphics[width=0.4\textwidth]{example-image}
\end{latexexample}

We usually use the \packagename{width} option to adjust the size of the image, according to a ratio of \LC|\textwidth|, which means the maximum width of text here.

\end{frame}


\begin{frame}[fragile]{Options of Include Graphs}
	Here some useful \packagename{options} are listed:
	\begin{itemize}
		\item \packagename{height} - use any \LaTeX\ measuring unit.
		\item \packagename{width} - use any \LaTeX\ measuring unit.
		\item \packagename{scale} - scale the graph to this proportion
		\item \packagename{angle} - rotate the graph in anti-clockwise by this angle 
	\end{itemize}
	
	\LaTeX\ measuring unit can be \LC|\textwidth|, \LC|\linewidth|, \LC|\textheight|, \LC|\lineheight|, cm, pt, em, and etc..

\begin{latexexamplesplit}
\includegraphics[width=4cm]%
{example-image-a}
\end{latexexamplesplit}

%	\begin{minipage}{0.5\linewidth}
%		\begin{example}
%\begin{minted}{latex}
%\usepackage{graphicx}
%\begin{figure}[htbp]
%    \centering
%    \includegraphics[width=0.5 \linewidth]{sample.jpg}
%    \caption{Marshmallow}
%    \label{fig-sample}
%\end{figure}
%\end{minted}
%		\end{example}
%	\end{minipage}
%	\hfill
%	\begin{minipage}{0.45\linewidth}
%		\begin{figure}[htbp]
%			\centering
%			\includegraphics[width=0.5\linewidth,angle=180]{sample.jpg}
%			\caption{Marshmallow}
%			\label{fig-sample}		
%		\end{figure}
%	\end{minipage}
\end{frame}

\subsection{Figures}

\begin{frame}[fragile]{The \packagename{figure} Environment}
	The \packagename{figure} environment provides a wrapper of image inserted by \LC|\includegraphics|, which add caption and label (reference) to an image. They are especially useful in report and paper writing, here is a template of how to use the environment.

\begin{command}
\begin{LCL}
\begin{figure}[position]
  \centering
  \includegraphics[options]{filename}
  \caption{caption}
  \label{fig:label}
\end{figure}
\end{LCL}
\end{command}
	
\begin{itemize}
			\item \packagename{filename} - the filename or relative path of the graph you want to insert, usually placed in the same or child directory as the tex file
			\item \packagename{position} - we usually use \packagename{!htbp} or \packagename{!H} here, which will be introduced later in this chapter
			\item \packagename{caption} - the caption displayed above/under the graph
			\item \packagename{label} - used for references in a document (will be introduced later)
\end{itemize}

\end{frame}

\begin{frame}[fragile]{Labels and References}

You can use \LC|\ref| to have a reference of a figure by its label. The figures will be automatically numbered (like equations), and the reference is also a hyperlink.

\begin{latexexamplesplit}[0.6]
\begin{figure}[!htbp]
  \centering
  \includegraphics[
    width=0.8\textwidth,
    angle=90
  ]{example-image-b}
  \caption{Example Image B rotated by 90 degree.}
  \label{fig:img-b}
\end{figure}
B was shown in Figure
\ref{fig:img-b}.
\end{latexexamplesplit}


\end{frame}

\begin{frame}[fragile]{Floats and Positions}

Floats are containers for things in a document that cannot be broken over a page. \LaTeX\ by default recognizes \packagename{figure} and \packagename{table} (will be introduced later) floats. \medskip

If you don't provide the \packagename{position} option, \LaTeX\ will try to help you find a place to set the figure. However, the position is often not ideal, so you need to add some specifiers yourselves. 

\begin{itemize}
\item \packagename{h} - Place the float \structure{here}, i.e., approximately at the same point it occurs in the source text (however, not exactly at the spot)
\item \packagename{t} - Position at the \structure{top} of the page.
\item \packagename{b} - Position at the \structure{bottom} of the page.
\item \packagename{p} - Put on a special \structure{page} for floats only.
\item \packagename{!} - Override internal parameters \LaTeX\ uses for determining ``good'' float positions.
\item \packagename{H} -  Places the float at precisely the location in the \LaTeX\ code. Requires the float package, i.e., \LC|\usepackage{float}|.
\end{itemize}

\end{frame}


%\begin{frame}[fragile]
%	Usually you need to optimize the size and some other properties of the graph, most of them can be set in \structure{options}. (Only some useful options are listed here)
%	\begin{itemize}
%		\item \structure{height} - use any \LaTeX\ measuring unit.
%		\item \structure{width} - use any \LaTeX\ measuring unit.
%		\item \structure{scale} - scale the graph to this proportion
%		\item \structure{angle} - rotate the graph in anti-clockwise by this angle 
%	\end{itemize}
%	\begin{minipage}{0.5\linewidth}
%		\begin{example}
%\begin{minted}{latex}
%\usepackage{graphicx}
%\begin{figure}[htbp]
%    \centering
%    \includegraphics[width=0.5 \linewidth]{sample.jpg}
%    \caption{Marshmallow}
%    \label{fig-sample}
%\end{figure}
%\end{minted}
%		\end{example}
%	\end{minipage}
%	\hfill
%	\begin{minipage}{0.45\linewidth}
%		\begin{figure}[htbp]
%			\centering
%			\includegraphics[width=0.5\linewidth,angle=180]{sample.jpg}
%			\caption{Marshmallow}
%			\label{fig-sample}		
%		\end{figure}
%	\end{minipage}
%\end{frame}


%\begin{frame}[fragile]{}
%\begin{multicols}{2}

%\begin{figure}[H]
%  \centering
%  \includegraphics[width=0.2\textwidth]{example-image-a}
%  \caption{caption}
%  \label{figure-label}
%\end{figure}
%
%Some test
%
%Some other text
%\end{multicols}
%
%\end{frame}


\begin{frame}[fragile]{Include Multiple Graphs}
    A useful extension is the \packagename{subcaption} package, which provides a \packagename{subfigure} environment to add multiple subfigures in a figure. \medskip
    
    Note that there is also a package called 	\packagename{subfigure}, but is has been deprecated (not maintained), please do not use it. Another package called \packagename{subfig} provides the same commands as that of \packagename{subfigure} package. However, they can't be used together. \medskip
    
    In simplicity, if there is some compatibility problem with your template after you tried the \packagename{subcaption} package, choose the \packagename{subfig} package. \medskip
    
    Here is an example with the \packagename{subcaption} package.
\end{frame}

\begin{latexexampleframe}
\begin{figure}
    \centering
    \begin{subfigure}{0.3\textwidth}
        \includegraphics[width=\textwidth]{example-image-a}
        \caption{Example Image A.}
        \label{fig:subcaption-a}
    \end{subfigure}
    ~ 
    \begin{subfigure}{0.3\textwidth}
        \includegraphics[width=\textwidth]{example-image-b}
        \caption{Example Image B.}
        \label{fig:subcaption-b}
    \end{subfigure}
    
    \begin{subfigure}{0.3\textwidth}
        \includegraphics[width=\textwidth]{example-image-c}
        \caption{Example Image C.}
        \label{fig:subcaption-c}
    \end{subfigure}
    \caption{Example Images}\label{fig:subcaption}
\end{figure}
\end{latexexampleframe}

\begin{frame}[fragile]
  
As shown in Figure \ref{fig:subcaption}, the figures can be arranged in columns and rows. \medskip

Between Figure \ref{fig:subcaption-a} and Figure \ref{fig:subcaption-b}, a \LC|~| was added. You can add desired spacing between images, e. g. \LC|~|, \LC|\quad|, \LC|\qquad|, \LC|\hfill| (fill all rest horizontal spaces) and etc.. \medskip

Between Figure \ref{fig:subcaption-b} and Figure \ref{fig:subcaption-c}, a newline was added. It will force the subfigure onto a new line. \medskip

The references of subfigures can be used by their \LC|\label| as well. For example, above references are generated by these commands:
\begin{example}
\begin{LCL}
\ref{fig:subcaption}
\ref{fig:subcaption-a}
\ref{fig:subcaption-b}
\ref{fig:subcaption-c}
\end{LCL}
\end{example}

\end{frame}

\subsection{Draw Graphs}

\begin{frame}[fragile]{The \packagename{tikz} and \packagename{pgf} packages}

The \packagename{tikz} and \packagename{pgf} packages can help you draw graphs in \LaTeX\, for example:

\begin{example}
\inputminted{latex}{../examples/relation.tex}
\end{example}

\end{frame}

\begin{frame}

This will generate a simple graph which consists of eight nodes:
\begin{center}
\input{../examples/relation.tex}
\end{center}

There may be a lecture about \packagename{tikz} and \packagename{pgf} in the future. If you are now interested in it, please refer to the \structure{pgf manuel} by \mintinline{shell}|texdoc tikz| or \mintinline{shell}|texdoc pgf|.

\end{frame}

\begin{frame}[fragile]

Another example:

\begin{example}
\inputminted[firstline=1,lastline=20]{latex}{../examples/binary_tree.tex}
\end{example}

\end{frame}

\begin{frame}

\begin{exampleblock}{}
\inputminted[firstline=21]{latex}{../examples/binary_tree.tex}
\end{exampleblock}

This will generate a binary tree:
\begin{center}
\input{../examples/binary_tree.tex}
\end{center}

\end{frame}


\section{Tables}

\subsection{Tabulars}

\begin{frame}[fragile]{The \packagename{tabular} Environment}
	Table is another common element in \LaTeX, usually you will need the \packagename{array} package for enhanced functions of tables. You can insert the command in the preamble of your document.

\begin{command}
\LC|\usepackage{array}|
\end{command}

\begin{latexexamplesplit}
\begin{tabular}{|l|c|r|}
  \hline
  Title 1 & Title 2 & Title 3 \\
  \hline
  1 & 2 & 3 \\
  \hline
\end{tabular}
\end{latexexamplesplit}

The syntax is similar to the \packagename{align} environment in maths. \LC|&| is used to split the columns are \LC|\\| is used to split the rows. \medskip

%\LC|\hline| is used to draw the horizontal lines in the table.


\end{frame}

\begin{frame}[fragile]{Column Format}

\begin{command}
\begin{LCL}
\begin{tabular}{format}
...
\end{tabular}
\end{LCL}
\end{command}

	\packagename{format} can be set as follow:
	\begin{itemize}
		\item \packagename{|} - represents a vertical separate line between two columns
		\item \packagename{l} - align left in this column
		\item \packagename{c} - align center in this column
		\item \packagename{r} - align right in this column
	\end{itemize}
	\begin{example}
		\begin{minipage}{0.48\linewidth}
			\centering
			\packagename{|l|l|l|} \medskip
			
        	\begin{tabular}{|l|l|l|}
        		\hline
        		Title 1 & Title 2 & Title 3 \\
        		\hline
        		1 & 2 &3 \\
        		\hline
        	\end{tabular}
		\end{minipage}
		\begin{minipage}{0.48\linewidth}
			\centering
			\packagename{||c|cc||} \medskip
			
        	\begin{tabular}{||c|cc||}
        		\hline
        		Title 1 & Title 2 & Title 3 \\
        		\hline
        		1 & 2 &3 \\
        		\hline
        	\end{tabular}
		\end{minipage}
    \end{example}	
\end{frame}

\begin{frame}[fragile]

With the help of the \packagename{array} package, more formats are available:

\begin{itemize}
		\item \packagename{p\{width\}} - Equivalent to \LC|\parbox[t]{width}|, vertically aligned \alert{bottom}
		\item \packagename{b\{width\}} - Equivalent to \LC|\parbox[b]{width}|, vertically aligned \alert{top}
		\item \packagename{m\{width\}} - Equivalent to \LC|\parbox{width}|, vertically aligned middle
		\item \packagename{>\{decl.\}} - Can be used before a letter option, inserts \packagename{decl} before the column.
		\item \packagename{<\{decl.\}} - Can be used after a letter option, inserts \packagename{decl} after the column.
\end{itemize}

\packagename{t} and \packagename{b} may be very confusing, but that's how they work in \LC|\parbox|. With these new formats, the columns can be defined more flexibly.

\begin{latexexamplesplit}
\begin{tabular}
{|p{1.2cm}|b{1.2cm}|m{1.2cm}|}
  \hline
  Aligned Bottom & Aligned Top & 
  Aligned Middle \\
  \hline
  1 & 2 & 3 \\
  \hline
\end{tabular}
\end{latexexamplesplit}

\end{frame}

\begin{frame}[fragile]

\packagename{t}, \packagename{b} and \packagename{m} only affect the vertical alignment. If you want to control the width and make the text horizontally centered as well, you can use \LC|>{\centering}| to insert a \LC|\centering| before the text in that column. You can also insert \LC|>{$}| and \LC|<{$}| to generate a column in math mode.

\begin{latexexamplesplit}
\begin{tabular}{|>{\centering}m{2cm}|>{$}b{2cm}<{$}|}
  \hline
  Row of Text & 
  \text{Row of Maths} \\
  \hline
  First & x \\
  Second & x^2 \\
  \hline
\end{tabular}
\end{latexexamplesplit}

If a column type will be used many times, and also very long, you can define a new column type by yourselves. You can use 

\begin{command}
\LC|\newcolumntype{new type}{>{some declarations}{old type}<{some more declarations}}|
\end{command}

\end{frame}


\begin{frame}[fragile]

If you want to repeat a format for multiple times, you can use \LC|*{num}{format}|. Here's an example of the usage of \LC|\newcolumntype| with multiple columns form.

\begin{latexexamplesplit}
\newcolumntype{C}{>{$}c<{$}}
\newcolumntype{L}{>{$}l<{$}}
\newcolumntype{R}{>{$}r<{$}}

\begin{tabular}{|L| *{2}{C|} R|}
  \hline
  \text{First} & \text{Second} & 
  \text{Second} & \text{Third} \\
  \hline
  x & x^2 & x^2 & x^3 \\
  \hline
  y & y^2 & y^2 & y^3 \\
  \hline
\end{tabular}
\end{latexexamplesplit}

\end{frame}

\begin{frame}[fragile]{Horizontal Lines}

We usually need horizontal lines in tables. As shown in the examples above, you can add a \LC|\hline| at the beginning of a row. \medskip

If you only want to draw a partial line, use \LC|\cline[start-end]|.

\begin{latexexamplesplit}
\begin{tabular}{c|l|c|r}
  \hline\hline
  & Title 1 & Title 2 & Title 3 \\
  \cline{2-4}
  Table & 1 & 2 & 3 \\
  \cline{2-4}
  & 4 & 5 & 6 \\
  \hline\hline
\end{tabular}
\end{latexexamplesplit}


Here we draw a table with a multirow, but it only works with multirows of odd row number. A more convenient method of drawing multirows will be introduced.

\end{frame}

\begin{frame}[fragile]{Combining Rows and Columns}

There are two commands being used to combine rows and columns
\begin{command}
\LC|\multicolumn{ncols}{format}{text}|

\begin{itemize}
	\item \packagename{ncols} - the number of columns to be merged
	\item \packagename{format} - the format of the merged column, excluding the left \packagename{|} (eg. \packagename{c|})
	\item \packagename{text} - the text in the merged column
\end{itemize}

\LC|\multirow{nrows}{width}[fixup]{text}|

\begin{itemize}
	\item \packagename{nrows} - the number of rows to be merged
	\item \packagename{width} - the width of the merged rows (use \packagename{*} for auto)
	\item \packagename{fixup} - the vertical position of the text (optional, default in the center)
	\item \packagename{text} - the text in the merged row
\end{itemize}	

\end{command}

To use the \LC|\multirow| command, you need to insert the package \packagename{multirow} in the preamble of your document.

\end{frame}



\begin{frame}[fragile]

\begin{latexexample}
\centering
\begin{tabular}{|c|c|c|c|c|}
  \hline
  \multirow{4}{*}{Table} & Title 1 & Title 2 & Title 3 & Title 4 \\
  \cline{2-5}
  & \multicolumn{2}{c|}{Text 1} & 
  \multicolumn{2}{c|}{\multirow{3}{*}{Text 3}} \\
  \cline{2-3}
  & \multicolumn{2}{c|}{Text 2} & \multicolumn{2}{c|}{} \\
  \cline{2-3}
  & Text 4 & Text 5 & \multicolumn{2}{c|}{} \\
  \hline
\end{tabular}
\end{latexexample}

Just leave blank in the rest rows of \LC|\multirow|.

\end{frame}

\begin{frame}[fragile]{Coloring Rows and Columns}

The rows and columns can also be colored, with the \packagename{colortbl} package. You may also need the \packagename{xcolor} package to define new colors.
\begin{command}
\begin{LCL}
\usepackage{xcolor}
\usepackage{colortbl}
\end{LCL}
\end{command}

Some commands are provided by these packages
\begin{command}
\begin{LCL}
\definecolor{name}{system}{definition}
\rowcolor{color}
\columncolor{color}
\end{LCL}
\end{command}

Here \packagename{system} can be \packagename{rgb/hsb/cmyk/gray}. Please refer the lecture about defining colors.

\end{frame}


\begin{frame}[fragile]

\begin{latexexample}
\definecolor{mygray}{gray}{.9}
\definecolor{barblue}{RGB}{153,204,254}
\centering
\begin{tabular}{|*2{>{\columncolor{mygray}}c|c|}{}}
  \hline\rowcolor{barblue}
  Title 1 & Title 2 & Title 3 & Title 4 \\
  \hline
  Text 1 & Text 2 & Text 3 & Text 4 \\
  \hline
  Text 5 & Text 6 & Text 7 & Text 8 \\
  \hline
\end{tabular}
\end{latexexample}

Note that the \LC|\rowcolor| overwrites the \LC|\columncolor|.

\end{frame}

\begin{frame}[fragile]{Styling Rows and Columns}

Styling columns can be easily achieved by prepending styles in the \packagename{>\{decl.\}} introduced before. \medskip

However, styling rows is much more complicated. You should only consider using this method when your table is really too large to style them one by one. \medskip

First, you may define these in the preamble of your document:

\begin{command}
\begin{LCL}
\newcolumntype{+}{>{\global\let\currentrowstyle\relax}}
\newcolumntype{^}{>{\currentrowstyle}}
\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1}%
  #1\ignorespaces
}
\end{LCL}
\end{command}

Then you should add a \packagename{+} before the first column definition and a \packagename{\^{}} before any other column definitions. (You can change the symbols \packagename{+} and \packagename{\^{}} in the definition above.)

\end{frame}


\begin{frame}[fragile]

\begin{latexexample}
\newcolumntype{+}{>{\global\let\currentrowstyle\relax}}
\newcolumntype{^}{>{\currentrowstyle}}
\newcommand{\rowstyle}[1]{\gdef\currentrowstyle{#1}%
  #1\ignorespaces
}
\centering
\begin{tabular}{|+>{\ttfamily}c|^c|^>{\ttfamily}c|^c|}
  \hline\rowstyle{\bfseries\sffamily}
  Title 1 & Title 2 & Title 3 & Title 4 \\
  \hline
  Text 1 & Text 2 & Text 3 & Text 4 \\
  \hline
  Text 5 & Text 6 & Text 7 & Text 8 \\
  \hline
\end{tabular}
\end{latexexample}

Note that the \LC|\rowstyle| also overwrites the column style set in the formats.

\end{frame}

\begin{frame}[fragile]{Table Generators}
	With \LC|\multirow| and \LC|\multicolumn|, we can almost draw tables of any style, but this coding process can never be as easy as the graphic one, like making tables in Word or Excel. Is there any ways to convert graphic tables into \LaTeX\ codes directly?\\
	\begin{itemize}
		\item Use \LaTeX\ Table Generator: \url{http://www.tablesgenerator.com/}
		\item \LaTeX\ Complex Table Editor: \url{https://www.latex-tables.com/}
		\item Excel2latex: \url{https://ctan.org/tex-archive/support/excel2latex/}
	\end{itemize}
\end{frame}

\subsection{Tables}

\begin{frame}[fragile]{The \packagename{table} Environment}

The \packagename{table} environment is used to arrange the place of a tabular, similar to the \packagename{figure} environment. Here is a template of how to use the environment.

\begin{command}
\begin{LCL}
\begin{table}[position]
  \centering
  \begin{tabular}{format}
    ...
  \end{tabular}
  \caption{caption}
  \label{table:label}
\end{table}
\end{LCL}
\end{command}

The \packagename{position}, \packagename{caption}, \packagename{label} are same as those in the \packagename{figure} environment. 
\end{frame}

\begin{frame}[fragile]{Recall the Positions}
	We usually want to place the graphs or tables just below or above the content where we mention them, but even when we type \packagename{[h]} in position, you can not ensure that it will appear at the ideal position, and there are several methods to make up for this. You can try them one by one: \medskip
	
	\begin{enumerate}
		\item Change \packagename{[h]} to \packagename{[!h]}
		\item Change \packagename{[!h]} to \packagename{[!H]}
		\item Use \LC|\newpage| to move the following content to the next page
	\end{enumerate}\medskip
	
Usually you don't need to pay too much attention about where the figures and tables are exactly are because you can use \LC|\ref| to reference them. And the numbering of 	figures and tables will strictly follow the order of their code.
	
\end{frame}

\begin{frame}[fragile]{\packagename{figure} and \packagename{table} in Two-column Documents}
If you are writing a document using two columns (i.e. you started your document with something like \LC|\documentclass[twocolumn]{article}|), you might have noticed that you can't use floating elements that are wider than the width of a column (using a \LaTeX\ notation, wider than \LC|0.5\textwidth|), otherwise you will see the figure or table overlapping with text. \medskip

If you really have to use such wide elements, the only solution is to use the ``starred'' variants of the floating environments:

\begin{command}
\begin{LCL}
\begin{figure*}[position]
  ...
\end{figure*}
\end{LCL}
\begin{LCL}
\begin{table*}[position]
  ...
\end{table*}
\end{LCL}
\end{command}

Those ``starred'' versions work like the standard ones, but they will be as wide as the page, so you will get no overlapping.

\end{frame}

\begin{frame}[fragile]{The \packagename{array} Environment}

	When you use \packagename{tabular} in maths environment, the text format in the \packagename{tabular} won't be italic. However, there is a replacement of \packagename{tabular}, which is the \packagename{array} environment.
	
\begin{command}
\begin{LCL}
\begin{array}{format}
  ...
\end{array}
\end{LCL}
\end{command}

The options and usages of these two environment are exactly the same. \medskip

Though the environment is not provided by the \packagename{array} package (it's built-in one), you are also recommended to use this package for enhancements.
	
\end{frame}

\begin{frame}[fragile]{List of Floats}
The figures and tables are all called floats. Captions can be listed at the beginning of a paper or report in a ``List of Figures'' or a ``List of Tables'' section with the commands:

\begin{command}
\begin{LCL}
\listoffigures
\listoftables
\end{LCL}
\end{command}

The caption used for each figure will appear in these lists, along with the figure numbers, and page numbers that they appear on. \medskip

The \LC|\caption| command also has an optional parameter, which is used for the List of Tables or List of Figures.  

\begin{command}
\LC|\caption[short]{long}|
\end{command}

Typically the \packagename{short} description is for the caption listing, and the \packagename{long} description will be placed beside the figure or table.

\end{frame}

\section{Code}

\subsection{Pseudo Code}

\begin{frame}[fragile]{The \packagename{algorithm} Environment}
\LaTeX\ has several packages for typesetting algorithms in form of ``pseudocode''. They provide stylistic enhancements over a uniform style (i.e., all in typewriter font) so that constructs such as loops or conditionals are visually separated from other text. The pseudocode is usually put in an \packagename{algorithm} environment. 

Include it by adding the command to your document's preamble. 
\begin{command}
\LC|\usepackage{algorithm}|
\end{command}

Then you can use the \packagename{algorithm} environment, which acts similar as the \packagename{figure} and \packagename{table} environments.

\begin{command}
\begin{LCL}
\begin{algorithm}[position]
  \caption{caption}
  \label{algorithm:label}
  <the actual pseudocode environment>
\end{algorithm}
\end{LCL}
\end{command}

\end{frame}

\begin{frame}[fragile]{The \packagename{algorithmic} Package}

One of the packages, the \packagename{algorithmic}, defines the \packagename{algorithmic} environment. Include it by adding the command to your document's preamble. 
\begin{command}
\LC|\usepackage{algorithmic}|
\end{command}
The basic commands are:
\begin{command}
\begin{LCL}
\STATE <text>
\IF{<condition>} \STATE {<text>} \ELSE \STATE{<text>} \ENDIF
\IF{<condition>} \STATE {<text>} \ELSIF{<condition>} \STATE{<text>} \ENDIF
\FOR{<condition>} \STATE {<text>} \ENDFOR
\FOR{<condition> \TO <condition> } \STATE {<text>} \ENDFOR
\FORALL{<condition>} \STATE{<text>} \ENDFOR
\WHILE{<condition>} \STATE{<text>} \ENDWHILE
\REPEAT \STATE{<text>} \UNTIL{<condition>}
\LOOP \STATE{<text>} \ENDLOOP
\REQUIRE <text>, \ENSURE <text>, \RETURN <text>, \PRINT <text>
\AND, \OR, \XOR, \NOT, \TO, \TRUE, \FALSE, \COMMENT{<text>}
\end{LCL}
\end{command}

\end{frame}
%
\begin{frame}[fragile]

\begin{example}
\begin{minted}[fontsize=\scriptsize]{latex}
\begin{algorithm}[H]
  \caption{Calculate $y = x^n$}
  \label{algorithm:n-square}
  \begin{algorithmic}
    \REQUIRE $n \geq 0 \vee x \neq 0$
    \ENSURE $y = x^n$
    \STATE $y \leftarrow 1$
    \IF{$n < 0$}
      \STATE $X \leftarrow 1 / x$
      \STATE $N \leftarrow -n$
    \ELSE
      \STATE $X \leftarrow x$
      \STATE $N \leftarrow n$
    \ENDIF
    \WHILE{$N \neq 0$}
      \IF{$N$ is even}
        \STATE $X \leftarrow X \times X$
        \STATE $N \leftarrow N / 2$
      \ELSE[$N$ is odd]
        \STATE $y \leftarrow y \times X$
        \STATE $N \leftarrow N - 1$
     \ENDIF
    \ENDWHILE
  \end{algorithmic}
\end{algorithm}
\end{minted}
\end{example}

\end{frame}

\begin{frame}
\begin{algorithm}[H]
  \caption{Calculate $y = x^n$}
  \label{algorithm:n-square}
  \footnotesize
  \begin{algorithmic}
    \Require $n \geq 0 \vee x \neq 0$
    \Ensure $y = x^n$
    \State $y \leftarrow 1$
    \If{$n < 0$}
      \State $X \leftarrow 1 / x$
      \State $N \leftarrow -n$
    \Else
      \State $X \leftarrow x$
      \State $N \leftarrow n$
    \EndIf
    \While{$N \neq 0$}
      \If{$N$ is even}
        \State $X \leftarrow X \times X$
        \State $N \leftarrow N / 2$
      \Else[$N$ is odd]
        \State $y \leftarrow y \times X$
        \State $N \leftarrow N - 1$
     \EndIf
    \EndWhile
  \end{algorithmic}
\end{algorithm}
\end{frame}

\begin{frame}[fragile]{The \packagename{algorithmicx} Package}

Another package \packagename{algorithmicx} provides more functionalities, but it is not compatible with the \packagename{algorithmic} package. Include it by adding the command to your document's preamble. 
\begin{command}
\LC|\usepackage{algpseudocode}|
\end{command}
Note that \LC|\usepackage{algorithmicx}| only defines some common macros and it is not enough. Don't insert \LC|\usepackage{algorithmic}| in this situation. \medskip

The main difference of these two packages is that all of the command name are changed, so that only the first letter in a word is capital. For example, \LC|\STATE| is changed to \LC|\State| and \LC|\ENDFOR| is changed to \LC|\EndFor|. \medskip

The command \LC|\begin{algorithmic}| can be given the optional argument of a positive integer, which if given will cause line numbering to occur at multiples of that integer. E.g. \LC|\begin{algorithmic}[5]| will enter the \packagename{algorithmic} environment and number every fifth line.

\end{frame}


\begin{frame}[fragile]

\begin{example}
\begin{LCL}
\begin{algorithm}[H]
  \caption{Euclid’s algorithm}
  \label{algorithm:euclid}
  \begin{algorithmic}[1]
    \Procedure{Euclid}{$a,b$}\Comment{The g.c.d. of a and b}
    \State $r\gets a\bmod b$
      \While{$r\not=0$}\Comment{We have the answer if r is 0}
        \State $a\gets b$
        \State $b\gets r$
        \State $r\gets a\bmod b$
      \EndWhile\label{euclidendwhile}
      \State \textbf{return} $b$\Comment{The gcd is b}
    \EndProcedure
  \end{algorithmic}
\end{algorithm}
\end{LCL}
\end{example}

\end{frame}

\begin{frame}[fragile]

\begin{algorithm}[H]
  \caption{Euclid’s algorithm}
  \label{algorithm:euclid}
  \begin{algorithmic}[1]
    \Procedure{Euclid}{$a,b$}\Comment{The g.c.d. of a and b}
    \State $r\gets a\bmod b$
      \While{$r\not=0$}\Comment{We have the answer if r is 0}
        \State $a\gets b$
        \State $b\gets r$
        \State $r\gets a\bmod b$
      \EndWhile\label{euclidendwhile}
      \State \textbf{return} $b$\Comment{The gcd is b}
    \EndProcedure
  \end{algorithmic}
\end{algorithm}

Algorithms can also be listed like figures and tables, by the command:

\begin{command}
\LC|\listofalgorithms|
\end{command}


\end{frame}


\subsection{Code Listing}

\begin{frame}[fragile]{The \packagename{verbatim} Environment}
The default tool to display code in \LaTeX\ is \packagename{verbatim}, which generates an output in monospaced font.

\begin{latexexample}
\begin{verbatim}
Text enclosed inside \texttt{verbatim} environment 
is printed directly 
and all \LaTeX{} commands are ignored.
\end{verbatim}
\end{latexexample}

There's a starred version (\packagename{verbatim*}) whose output is slightly different.

\begin{verbatim*}
Text enclosed inside \texttt{verbatim} environment 
is printed directly 
and all \LaTeX{} commands are ignored.
\end{verbatim*}

\end{frame}


\begin{frame}[fragile]{The \packagename{verb} Command}
Verbatim-like text can also be used inline with the command \LC|\verb|

\begin{latexexample}
In the directory \verb|C:\Windows\system32| you can find a lot of Windows 
system applications. 
 
The \verb+\ldots+ command produces \ldots
\end{latexexample}

The command \LC+\verb|C:\Windows\system32|+ prints the text inside the delimiters \packagename{|} in verbatim format. Any character, except letters and \packagename{*}, can be used as delimiter. For instance \LC|\verb+\ldots+| uses \packagename{+} as delimiter.

\end{frame}

\begin{frame}[fragile]{The \packagename{listings} Package}

A better form of code listing can be done by the \packagename{listings} package. To use it, simply insert the command in the preamble of your document.

\begin{command}
\LC|\usepackage{listings}|
\end{command}

It provides a \packagename{lstlisting} environment.

\begin{command}
\begin{LCL}
\begin{lstlisting}[language=name]
  ...
\end{lstlisting}
\end{LCL}
\end{command}

You can also input source code from file.

\begin{command}
\LC|\lstinputlisting[language=name]{filename}|
\end{command}

\end{frame}

\begin{frame}[fragile]

\begin{latexexample}
\begin{lstlisting}[language=Python]
import numpy as np
    
def incmatrix(genl1,genl2):
    m = len(genl1)
    n = len(genl2)
\end{lstlisting}
\end{latexexample}

You can add code coloring and styling by some complicated configurations, see the Overleaf tutorial \urllink{https://www.overleaf.com/learn/latex/code_listing}. \medskip

The documentation of the \packagename{listings} package can be found in \urllink{http://mirrors.ctan.org/macros/latex/contrib/listings/listings.pdf}.


\end{frame}

\begin{frame}[fragile]{The \packagename{minted} Package}

All of the code in this lecture are highlighted by the \packagename{minted} package. To use it, simply insert the command in the preamble of your document.

\begin{command}
\LC|\usepackage{minted}|
\end{command}

This is a very special package, it depends a program out of \LaTeX\, called \packagename{pygmentize}, which is a code highlighting package written in \packagename{Python}. \medskip

You can install the package through \packagename{pip} (assuming you have \packagename{Python} 2 or 3 and \packagename{pip} installed) in your terminal:

\begin{command}
\mintinline{shell}|pip install Pygments|
\end{command}

And then you can examine in your terminal whether \packagename{pygmentize} is your \packagename{PATH} by directly running it. You also need to add an option \packagename{-shell-escape} to your \LaTeX\ compiler because \LaTeX\ need this permission to run other programs on shell.

\end{frame}

\begin{frame}[fragile]{The \packagename{minted} Environment}

You can use the \packagename{minted} environment to insert a block of code in the specific language.

\begin{command}
\begin{LCL}
\begin{minted}[options]{language}
  ...
\end{minted}
\end{LCL}
\end{command}

You can use the command in the terminal to find the supported languages. 
\begin{command}
\mintinline{shell}|pygmentize -L lexers|
\end{command}

There is also a list of languages on the online document \urllink{https://pygments.org/languages/}. Note that if you want to insert plain text, use the \packagename{text} language which doesn't have any highlight. \medskip

\end{frame}

\begin{frame}[fragile]{The Inline \packagename{minted}}

For a single line of source code, you can alternatively use a shorthand notation:
\begin{command}
\LC+\mint[options]{language}|...|+
\end{command}

Here we use a pair of \packagename{|}, same as the usage of the \LC|\verb| command, which is also an inline verbatim command. \medskip

Or you can also use
\begin{command}
\LC+\mintinline[options]{language}|...|+
\end{command}

Here \packagename{|} can also be replaced with \packagename{\{\}}, a pair of \packagename{+}, etc., the key is there should not exist the same delimiter inside the code.

\end{frame}

\begin{frame}[fragile]{Input File with \packagename{minted}}

When you have a source code file alone, you can use the command to input the file.
\begin{command}
\LC|\inputminted[options]{language}{filename}|
\end{command}

There are some commonly used options (not only for this command):
\begin{itemize}
\item \packagename{linenos} - Turn on line numbers
\item \packagename{breaklines} - Automatically break long lines in \packagename{minted} environment and \LC|\mint|, and wrap longer lines in \LC|\mintinline|.
\item \packagename{fontsize} - The size of the font to use, as a size command, e.g. \LC|fontsize=\footnotesize|.
\item \packagename{tabsize} - The number of spaces a tab is equivalent to. (default is 8, but often set to 4)
\item \packagename{firstline} - The first line to show. (default is 1, useful when showing part of a file)
\item \packagename{lastline} - The last line to show. (default is the last line of the input)
\end{itemize}

\end{frame}

\begin{frame}[fragile]{Using Different Styles}
You can use various styles of highlighting scheme provided by \packagename{pygmentize}.
\begin{command}
\LC|\usemintedstyle{name}|
\end{command}

You can use the command in the terminal to find the supported styles. 
\begin{command}
\mintinline{shell}|pygmentize -L styles|
\end{command}

There is also a demo of languages and styles on the online demo \urllink{https://pygments.org/demo/}. The \packagename{autumn} style is used in this lecture. \medskip

In the end, \packagename{XeLaTeX} might be the best \LaTeX\ compiler working with the \packagename{minted} package. It also supports typesetting with Chinese, if you meet problems when using the default \packagename{pdflatex} compiler, switch into \packagename{XeLaTeX} may solve your issues. \medskip

The documentation of the \packagename{minted} package can be found in \urllink{http://mirrors.ctan.org/macros/latex/contrib/minted/minted.pdf}.

\end{frame}

\begin{frame}[fragile]{Custom Floats}

If tables and figures are not adequate for your needs, then you always have the option to create your own! Examples of such instances could be source code examples, or maps. For a program float example, one might therefore wish to create a \packagename{float} named program. The package \packagename{float} is your friend for this task. All commands to set up the new float must be placed in the preamble, and not within the document.

\begin{command}
\begin{LCL}
\usepackage{float}
\floatstyle{style}
\newfloat{type}{placement}{ext}[outer counter]
\floatname{type}{floatname}
\end{LCL}
\end{command}

The default name that appears at the start of the caption is the type. If you wish to alter this, use \LC|\floatname{type}{floatname}|.

\end{frame}

\begin{frame}[fragile]

For the \LC|\floatstyle| command, \packagename{style} can be:
\begin{itemize}
\item \packagename{plain} - the normal style for \LaTeX\ floats, but the caption is always below the content.
\item \packagename{plaintop} - the normal style for \LaTeX\ floats, but the caption is always above the content.
\item \packagename{boxed} -  a box is drawn that surrounds the float, and the caption is printed below.
\item \packagename{ruled} - the caption appears above the float, with rules immediately above and below. Then the float contents, followed by a final horizontal rule.
\end{itemize}

For the \LC|\newfloat| command, 
\begin{itemize}
\item \packagename{type} - the new name you wish to call your float, in the example, ``program''.
\item \packagename{placement} - t, b, p, or h (as previously described in Placement), where letters enumerate permitted placements.
\item \packagename{ext} -  the file name extension of an auxiliary file for the list of figures (or whatever). \LaTeX\ writes the captions to this file.
\item \packagename{outer counter} - the presence of this parameter indicates that the counter associated with this new float should depend on outer counter, for example ``chapter''.
\end{itemize}


\end{frame}

\begin{frame}[fragile]

\begin{example}
\begin{LCL}
\documentclass{article}
\usepackage{float}
\floatstyle{ruled}
\newfloat{program}{thp}{lop}
\floatname{program}{Program}

\begin{document}

\begin{program}[H]
  \begin{minted}{java}
class HelloWorldApp {
  public static void main(String[] args) {
    //Display the string
    System.out.println("Hello World!");
  }
}
  \end{minted}
  \caption{The Hello World! program in Java.}
  \label{program:hello-world}
\end{program}

\end{document}
\end{LCL}
\end{example}

\end{frame}

\begin{frame}[fragile]

\begin{program}[H]
  \begin{minted}{java}
class HelloWorldApp {
  public static void main(String[] args) {
    //Display the string
    System.out.println("Hello World!");
  }
}
  \end{minted}
  \caption{The Hello World! program in Java.}
  \label{program:hello-world}
\end{program}

You can also reference the custom floats.

\begin{latexexample}
Program \ref{program:hello-world} is the Hello World! program in Java.
\end{latexexample}

\end{frame}

